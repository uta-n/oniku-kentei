<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>お肉検定クイズ</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: auto; }
    .question { margin-bottom: 20px; }
    button { display: block; margin: 5px 0; width: 100%; }
    #result { font-size: 1.2em; margin-top: 30px; font-weight: bold; }
  </style>
</head>
<body>
  <h1>お肉検定クイズ</h1>
  <div id="quiz"></div>
  <div id="result"></div>
  <button id="nextBtn" style="display:none;">次の問題へ</button>
  <button id="finishBtn" style="display:none;">終了</button>

  <script>
    const allQuestions = [
      { q: "サーロインはどこの部位？", a: ["肩", "腰", "モモ", "バラ"], correct: 1 },
      { q: "和牛の定義で正しいのは？", a: ["外国産牛", "交雑種", "在来種系統の肉用牛", "乳牛"], correct: 2 },
      { q: "枝肉とは何か？", a: ["骨付きの半身", "冷凍肉", "加工肉", "精肉"], correct: 0 },
      { q: "黒毛和種の特徴は？", a: ["筋が多い", "脂が少ない", "サシが多い", "赤身が硬い"], correct: 2 },
      { q: "牛肉の格付けで最高ランクは？", a: ["A5", "B3", "C1", "A1"], correct: 0 },
      { q: "トモバラはどこ？", a: ["後バラ", "前バラ", "ロース", "ウデ"], correct: 0 },
      { q: "ユッケに使われるのは？", a: ["加熱肉", "加熱後冷凍", "生食用加工肉", "焼肉用"], correct: 2 },
      { q: "精肉とは？", a: ["内臓", "骨つき肉", "骨を除いた食用肉", "枝肉"], correct: 2 },
      { q: "牛肉の保存温度は？", a: ["30℃", "15℃", "4℃", "-20℃"], correct: 2 },
      { q: "ミートパッカーの仕事は？", a: ["販売", "輸入", "食肉処理・整形", "牧畜"], correct: 2 }
    ];

    let questions = [];
    let current = 0;
    let score = 0;

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function showQuestion() {
      const q = questions[current];
      const quizDiv = document.getElementById('quiz');
      quizDiv.innerHTML = `<div class="question"><strong>Q${current + 1}: ${q.q}</strong></div>`;
      q.a.forEach((option, idx) => {
        const btn = document.createElement('button');
        btn.textContent = option;
        btn.onclick = () => {
          if (idx === q.correct) score++;
          Array.from(quizDiv.querySelectorAll("button")).forEach(b => b.disabled = true);
          if (current < questions.length - 1) {
            document.getElementById('nextBtn').style.display = "block";
          } else {
            document.getElementById('finishBtn').style.display = "block";
          }
        };
        quizDiv.appendChild(btn);
      });
    }

    document.getElementById('nextBtn').onclick = () => {
      current++;
      showQuestion();
      document.getElementById('nextBtn').style.display = "none";
    };

    document.getElementById('finishBtn').onclick = () => {
      document.getElementById('quiz').style.display = "none";
      document.getElementById('nextBtn').style.display = "none";
      document.getElementById('finishBtn').style.display = "none";
      document.getElementById('result').innerText = `お疲れさまでした！正解数：${score} / ${questions.length}`;
    };

    // 初期化
    shuffle(allQuestions);
    questions = allQuestions.slice(0, 10);
    showQuestion();
  </script>
</body>
</html>
